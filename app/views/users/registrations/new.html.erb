<% content_for :body_class, 'registration' %>

<div class="registration__wrapper">
  <h1 class="registration__title">Congratulations!</h1>
  <p class="registration__copy">Fill out the form below to redeem your free trial bag of Lay's Poppables.</p>
  <p class="registration__subcopy">Already have an account?
    <span><%= link_to "Log\u00A0in Instead", new_session_path(resource_name), class: 'registration__link' %></span>
  </p>

  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { class: "registration__form" }) do |f| %>
    <% if !resource.errors.empty? %>
      <ul class="error-list">
        <% resource.errors.full_messages.each do |message| %>
          <li class="error-list__item"><%= message %></li>
        <% end %>
      </ul>
    <% end %>

    <div class="registration__row">
      <div class="registration__column">
        <%= f.label :email, class: 'registration__label' %>
        <%= f.email_field :email, autofocus: true, class: 'registration__input', placeholder: 'Enter email address' %>
      </div>

      <div class="registration__column">
        <%= f.label :zip_code, class: 'registration__label' %>
        <%= f.number_field :zip_code, class: 'registration__input', placeholder: 'Enter zip code' %>
      </div>
    </div>

    <div class="registration__row">
      <div class="registration__column">
        <%= f.label :first_name, class: 'registration__label' %>
        <%= f.text_field :first_name, class: 'registration__input', placeholder: 'Enter your name' %>
      </div>

      <div class="registration__column">
        <%= f.label :last_name, class: 'registration__label' %>
        <%= f.text_field :last_name, class: 'registration__input', placeholder: 'Enter your last name' %>
      </div>
    </div>

    <div class="registration__row">
      <div class="registration__column">
        <div class="registration__birthday">
          <%= f.label :dob, 'Date of Birth', class: 'registration__label' %>
          <div class="registration__select registration__birthday-select">
          <%= f.date_select :dob,
            start_year: Date.today.year,
            end_year: 1900,
            use_short_month: true,
            with_css_classes: true,
            order:  [:month, :day, :year],
            prompt: { day: 'DD', month: 'MM', year: 'YYYY' },
            :date_separator => '</div><div class="registration__select registration__birthday-select">'
          %>
          </div>
        </div>
      </div>
    </div>

    <div class="registration__row">
      <div class="registration__column">
        <div class="registration__recaptcha">
          <%= recaptcha_tags %>
        </div>
      </div>
      <div class="registration__column">
        <div class="registration__checkbox">
          <%= f.check_box :terms_and_conditions %>
          <label for="user_terms_and_conditions" class="registration__label">I accept the <%= link_to 'Terms and Conditions', 'http://www.fritolay.com/legal/terms-of-service.htm', target: '_blank', class: 'registration__link' %>.</label>
          <div class="checkbox-border"></div>
        </div>

        <div class="registration__checkbox">
          <%= f.check_box :opt_in %>
          <label for="user_opt_in" class="registration__label">Sign Me Up For Emails</label>
          <div class="checkbox-border"></div>
        </div>
      </div>
    </div>    

    <div class="registration__row">
      <div class="registration__column">
        <button type="submit" class="button registration__submit">Submit</button>
      </div>
    </div>
  <% end %>
</div>

<% content_for :javascript do %>
  <%= javascript_include_tag *webpack_asset_paths('pages', extension: 'js') %>
<% end %>
